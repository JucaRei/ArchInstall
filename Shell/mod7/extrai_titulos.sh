#!/usr/bin/env bash
# ------------------------------------------------------------------------------------ #

# ------------------------------- VARIÁVEIS ------------------------------------------ #
ARQUIVO_DE_TITULOS="titulos.txt"
VERMELHO="\033[31;1m"
VERDE="\033[32;1m"

# ------------------------------------------------------------------------------------ #

# ------------------------------- TESTES --------------------------------------------- #
# [ -x "$(which lynx)" ] && echo -e "Está instalado!" && exit 0
[ ! -x "$(which lynx)" ] && nix-shell -p lynx # Lynx instalado
# ------------------------------------------------------------------------------------ #

# ------------------------------- EXECUÇÃO ------------------------------------------- #
lynx -source https://lxer.com/ | grep blurb | sed 's/<div.*line">//;s/<\/span.*//' >titulos.txt

while read -r titulo_lxer; do
  echo -e "${VERMELHO}Titulo: ${VERDE}$titulo_lxer"
done <"$ARQUIVO_DE_TITULOS"
# ------------------------------------------------------------------------------------ #
